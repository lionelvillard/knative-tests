name: "Testing PublicIP"
on:
  workflow_dispatch:
jobs:
  e2e-testing:
    name: GitHubSource Test
    runs-on: ubuntu-latest
    env:
      KO_DOCKER_REPO: kind.local
    steps:
      - name: Checkout main
        uses: actions/checkout@v2
      - name: Set up Go 1.15.x
        uses: actions/setup-go@v2
        with:
          go-version: 1.15.x
      - name: Public IP
        id: ip
        uses: haythem/public-ip@v1.2
      - name: Print Public IP
        run: |
          echo ${{ steps.ip.outputs.ipv4 }}
          echo ${{ steps.ip.outputs.ipv6 }}
      - name: Start server
        run: |
          go run ./cmd/server

